<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Riwaq Digital</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:Tahoma,Arial;background:#0b1020;color:#fff}
header{text-align:center;padding:30px;background:#0e1530}
header h1{color:#2ecc71;margin:0}
section{max-width:900px;margin:30px auto;padding:20px}

.card{
  background:#111a3a;
  padding:20px;
  border-radius:10px;
  margin-bottom:20px;
  display:flex;
  gap:15px
}
.cover{
  width:110px;
  height:150px;
  object-fit:cover;
  border-radius:6px
}
.card-content{flex:1}

button,input,textarea{
  width:100%;
  padding:12px;
  margin-top:10px;
  border:none;
  border-radius:6px;
  font-size:16px
}
button{background:#22c55e;color:#000;cursor:pointer}
.deleteBtn{background:#ef4444;color:#fff}
.hidden{display:none}

.wallet{
  background:#020617;
  padding:10px;
  border-radius:6px;
  word-break:break-all;
  margin:10px 0
}

.notice{
  background:#1f2937;
  border-right:4px solid #facc15;
  padding:10px;
  margin-top:10px;
  font-size:14px;
  color:#facc15
}
small{color:#ccc}
</style>
</head>

<body>

<header>
  <h1>Riwaq Digital</h1>
  <p>Ù…ØªØ¬Ø± Ø§Ù„ÙƒØªØ¨ Ø§Ù„Ø±Ù‚Ù…ÙŠØ© â€“ ØªØ³Ù„ÙŠÙ… ÙÙˆØ±ÙŠ</p>
</header>

<section>

<!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙƒØªØ¨ -->
<div id="listView"></div>

<!-- ØµÙØ­Ø© Ø§Ù„ØªÙØ§ØµÙŠÙ„ -->
<div id="detailView" class="hidden"></div>

<!-- Ø§Ù„Ø¯ÙØ¹ -->
<div id="payBox" class="card hidden" style="flex-direction:column">
  <h3>ğŸ’³ Ø§Ù„Ø¯ÙØ¹</h3>
  <p>Ø­ÙˆÙ‘Ù„ Ø§Ù„Ù…Ø¨Ù„Øº Ø¥Ù„Ù‰ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªØ§Ù„ÙŠ (USDT TRC20):</p>
  <div class="wallet">TCn8wX1g4HpdkX8gEN7BqRNWKCsSRzgsi8</div>

  <div class="notice">
    ØªÙ†Ø¨ÙŠÙ‡: ÙÙŠ Ø­Ø§Ù„ Ø¹Ø¯Ù… Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø¯ÙØ¹ØŒ Ù„Ù† ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„ Ø£Ùˆ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù.
    ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨ÙˆØµÙ„ Ø§Ù„Ø¯ÙØ¹.
  </div>

  <button onclick="confirmPayment()">âœ… ØªÙ… Ø§Ù„Ø¯ÙØ¹</button>
  <div id="status" style="margin-top:15px"></div>
</div>

<!-- Ø²Ø± Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø®ÙÙŠ -->
<button onclick="toggleAdmin()" style="
position:fixed;bottom:10px;left:10px;
opacity:.2;font-size:12px;width:auto">âš™</button>

<!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
<div id="adminBox" class="hidden">
  <div class="card" style="flex-direction:column">
    <h3>ğŸ” Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h3>
    <input type="password" id="adminPass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
    <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>

    <div id="adminPanel" class="hidden">
      <hr>
      <input id="pname" placeholder="Ø§Ø³Ù… Ø§Ù„ÙƒØªØ§Ø¨">
      <input id="pprice" placeholder="Ø§Ù„Ø³Ø¹Ø±">
      <input id="pcover" placeholder="Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„ØºÙ„Ø§Ù">
      <textarea id="pdesc" placeholder="ÙˆØµÙ Ø§Ù„ÙƒØªØ§Ø¨"></textarea>
      <input id="plink" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„">
      <button onclick="addProduct()">â• Ø¥Ø¶Ø§ÙØ© ÙƒØªØ§Ø¨</button>
    </div>
  </div>
</div>

</section>

<script>
const ADMIN_PASSWORD="369369";
let isAdmin=false;
let currentLink="";
let products=JSON.parse(localStorage.getItem("products")||"[]");

/* ===== Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ===== */
function renderList(){
  listView.innerHTML="";
  products.forEach((p,i)=>{
    listView.innerHTML+=`
    <div class="card">
      <img src="${p.cover}" class="cover">
      <div class="card-content">
        <h3>${p.name}</h3>
        <p>ğŸ’° ${p.price}</p>
        <button onclick="openDetail(${i})">ğŸ“– Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„</button>
        ${isAdmin?`<button class="deleteBtn" onclick="remove(${i})">ğŸ—‘ Ø­Ø°Ù</button>`:""}
      </div>
    </div>`;
  });
}

/* ===== ØµÙØ­Ø© Ø§Ù„ØªÙØ§ØµÙŠÙ„ ===== */
function openDetail(i){
  const p=products[i];
  detailView.innerHTML=`
  <div class="card">
    <img src="${p.cover}" class="cover">
    <div class="card-content">
      <h2>${p.name}</h2>
      <p>${p.desc}</p>
      <p><b>Ø§Ù„Ø³Ø¹Ø±:</b> ${p.price}</p>
      <button onclick="buy(${i})">ğŸ›’ Ø´Ø±Ø§Ø¡</button>
      <button onclick="back()">â¬… Ø±Ø¬ÙˆØ¹</button>
    </div>
  </div>`;
  listView.classList.add("hidden");
  detailView.classList.remove("hidden");
}

function back(){
  detailView.classList.add("hidden");
  listView.classList.remove("hidden");
}

/* ===== Ø´Ø±Ø§Ø¡ ===== */
function buy(i){
  currentLink=products[i].link;
  document.getElementById("payBox").classList.remove("hidden");
  document.getElementById("status").innerHTML="";
  window.scrollTo(0,document.body.scrollHeight);
}

/* ===== ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹ (Ù…ÙØµØ­Ø­) ===== */
function confirmPayment(){
  const status=document.getElementById("status");
  status.innerHTML="â³ Ø¬Ø§Ø±Ù ØªØ¬Ù‡ÙŠØ² Ø§Ù„ØªØ­Ù…ÙŠÙ„ØŒ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± 15 Ø«Ø§Ù†ÙŠØ©...";

  setTimeout(()=>{
    if(!currentLink){
      status.innerHTML="âŒ Ø®Ø·Ø£ ÙÙŠ Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„";
      return;
    }
    status.innerHTML=`<a href="${currentLink}" target="_blank">
      <button>â¬‡ï¸ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒØªØ§Ø¨</button></a>`;
  },15000);
}

/* ===== Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… ===== */
function toggleAdmin(){
  adminBox.classList.toggle("hidden");
}

function login(){
  if(adminPass.value===ADMIN_PASSWORD){
    isAdmin=true;
    adminPanel.classList.remove("hidden");
    renderList();
  }else alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø®Ø·Ø£");
}

function addProduct(){
  products.push({
    name:pname.value,
    price:pprice.value,
    cover:pcover.value,
    desc:pdesc.value,
    link:plink.value
  });
  pname.value=pprice.value=pcover.value=pdesc.value=plink.value="";
  save();
}

function remove(i){
  if(confirm("Ø­Ø°Ù Ø§Ù„ÙƒØªØ§Ø¨ØŸ")){
    products.splice(i,1);
    save();
  }
}

function save(){
  localStorage.setItem("products",JSON.stringify(products));
  renderList();
}

/* ØªØ´ØºÙŠÙ„ */
renderList();
</script>

</body>
</html>
